{
	"type": "LinearLayout",
	"orientation": "vertical",
	"gravity": "center_horizontal",
	"layout_width": "match_parent",
	"layout_height": "wrap_content",
	"component_list": [
		{
			"type": "JavaScript",
			"comment": "set the full path: concat home/working/selected directories",
			"script_list": [
				"var s1 = eigenFragment.getCacheString('HomeDirectory')",
				"var s2 = eigenFragment.getCacheString('WorkingDirectory')",
				"var s3 = eigenFragment.getCacheString('SelectedPath')",
				"var s4 = eigenFragment.concatPaths(s1, s2, s3)",
				"eigenFragment.setCacheString('FullPath', s4)"
			]
		},
		{
			"type": "Clone",
			"name": "HorizontalLine"
		},
		{
			"type": "Clone",
			"name": "TextViewDetail",
			"attributes": {
				"text_script": "''+eigenFragment.getCacheString('FullPath')"
			}
		},
		{
			"type": "Clone",
			"name": "HorizontalLine"
		},
		{
			"type": "LinearLayout",
			"orientation": "horizontal",
			"layout_width": "match_parent",
			"component_list": [
				{
					"type": "Button",
					"text": "Open Parent Directory",
					"text_size": "14",
					"gravity": "center_horizontal",
					"text_color": "#ffffff",
					"background_color": "#123456",
					"layout_width": "match_parent",
					"layout_weight": "1",
					"margin": {
						"left": 10,
						"top": 10,
						"right": 10,
						"bottom": 10
					},
					"on_click": {
						"type": "ActionList",
						"component_list": [
							{
								"type": "JavaScript",
								"script_list": [
									"var s3 = eigenFragment.getCacheString('SelectedPath')",
									"var lastIndex = s3.lastIndexOf('/')",
									"if (lastIndex > 0) s3 = s3.substring(0, lastIndex)",
									"else s3 = ''",
									"eigenFragment.setCacheString('SelectedPath', s3)",
									"var s1 = eigenFragment.getCacheString('HomeDirectory')",
									"var s2 = eigenFragment.getCacheString('WorkingDirectory')",
									"var s4 = eigenFragment.concatPaths(s1, s2, s3)",
									"eigenFragment.setCacheString('FullPath', s4)",

									"eigenFragment.closePopupWindow()"
								]
							},
							{
								"type": "SecureFtp",
								"comment": "call sftp this way when you don't need immediate results for a TextView",
								"id": 991004,
								"sftp_script": "'directory ' + eigenFragment.getCacheString('FullPath')",
								"on_complete": {
									"type": "PopupScreen",
									"layout_width": "match_parent",
									"layout_height": "wrap_content",
									"text_size": "14",
									"text_color": "#ffffff",
									"background_color": "#111111",
									"title": "Explore Filesystem (ListView)",
									"url": "https://raw.githubusercontent.com/jsawaya/eigenframe/master/web/frames/explore-filesystem-listview.json"
								}
							}
						]
					}
				},
				{
					"type": "Button",
					"text": "Select This Directory",
					"text_size": "14",
					"gravity": "center_horizontal",
					"text_color": "#ffffff",
					"background_color": "#123456",
					"layout_width": "match_parent",
					"layout_weight": "1",
					"margin": {
						"left": 10,
						"top": 10,
						"right": 10,
						"bottom": 10
					},
					"on_click": {
						"type": "ActionList",
						"component_list": [
							{
								"type": "JavaScript",
								"script_list": [
									"var s4 = eigenFragment.getCacheString('FullPath')",
									"eigenActivity.showToast('Directory: '+ s4)",
									"eigenFragment.setCacheString('SelectedPath', '')",
									"eigenFragment.closePopupScreen(991005)",
									"eigenFragment.closePopupWindow()"
								]
							}
						]
					}
				}
			]
		},
		{
			"type": "LinearLayout",
			"orientation": "horizontal",
			"layout_width": "match_parent",
			"component_list": [
				{
					"type": "TextView",
					"text": "Sub-directories",
					"text_size": "14",
					"text_color": "#ffffff",
					"layout_width": "match_parent",
					"layout_weight": "1",
					"background_color": "#123456",
					"gravity": "center_horizontal",
					"font": "font/open-sans/OpenSans-SemiboldItalic.ttf"
				},
				{
					"type": "TextView",
					"text": "Files",
					"text_size": "14",
					"text_color": "#ffffff",
					"layout_width": "match_parent",
					"layout_weight": "1",
					"background_color": "#123456",
					"gravity": "center_horizontal",
					"font": "font/open-sans/OpenSans-SemiboldItalic.ttf"
				}
			]
		},
		{
			"type": "Clone",
			"name": "HorizontalLine"
		},
		{
			"type": "LinearLayout",
			"orientation": "horizontal",
			"layout_width": "match_parent",
			"layout_height": "wrap_content",
			"component_list": [
				{
					"type": "ListView",
					"layout_width": "match_parent",
					"layout_height": "match_parent",
					"layout_weight": "1",
					"background_color": "#123456",
					"cached_filename": "SecureFtp:991004",
					"dir_type": "subdir",
					"on_click": {
						"type": "ActionList",
						"component_list": [
							{
								"type": "JavaScript",
								"comment": "selected directory, append to selected path",
								"script_list": [
									"var selected_dir = eigenFragment.getOptionLabel()",
									"eigenActivity.showToast('selected directory: ' + selected_dir)",
									"var s3 = eigenFragment.getCacheString('SelectedPath')",
									"s3 = eigenFragment.concatPaths(s3, selected_dir)",
									"eigenFragment.setCacheString('SelectedPath', s3)",
									"var s1 = eigenFragment.getCacheString('HomeDirectory')",
									"var s2 = eigenFragment.getCacheString('WorkingDirectory')",
									"var s4 = eigenFragment.concatPaths(s1, s2, s3)",
									"eigenFragment.setCacheString('FullPath', s4)",

									"eigenFragment.closePopupWindow()"
								]
							},
							{
								"type": "SecureFtp",
								"comment": "call sftp this way when you don't need immediate results for a TextView",
								"id": 991004,
								"sftp_script": "'directory ' +  eigenFragment.getCacheString('FullPath')",
								"on_complete": {
									"type": "PopupScreen",
									"layout_width": "match_parent",
									"layout_height": "wrap_content",
									"text_size": "14",
									"text_color": "#ffffff",
									"background_color": "#111111",
									"title": "Explore Filesystem (ListView)",
									"url": "https://raw.githubusercontent.com/jsawaya/eigenframe/master/web/frames/explore-filesystem-listview.json"
								}
							}
						]
					},
					"item_layout": {
						"type": "LinearLayout",
						"orientation": "horizontal",
						"layout_width": "wrap_content",
						"layout_height": "wrap_content",
						"gravity": "center_vertical",
						"component_list": [
							{
								"type": "TextView",
								"text_script": "eigenFragment.getOptionPosition() + ': ' + eigenFragment.getOptionLabel()",
								"text_color": "#ffffff",
								"background_color": "#123456",
								"margin": {
									"left": 40,
									"top": 40,
									"right": 40,
									"bottom": 40
								}
							}
						]
					}
				},
				{
					"type": "Clone",
					"name": "VerticalLine"
				},
				{
					"type": "ListView",
					"layout_width": "match_parent",
					"layout_height": "match_parent",
					"layout_weight": "1",
					"background_color": "#123456",
					"cached_filename": "SecureFtp:991004",
					"dir_type": "files",
					"on_click": {
						"type": "ActionList",
						"component_list": [
							{
								"type": "JavaScript",
								"comment": [
									"selected_name: file name selected by the user",
									"root_path: /home/git-repo/gitpath view-states(991000, 991001, 991002)",
									"absolute_filepath: absolute file path",
									"'EditText:999001' holds the absolute_filepath), set cache not view state",
									"'EditText:991003' holds selected_name), set view state not cache",
									"eigenFragment.setCacheString('EditText:999001', absolute_filepath)"
								],
								"script_list": [
									"var selected_name = eigenFragment.getOptionLabel()",
									"eigenActivity.showToast('selected name: ' + selected_name)",
									"eigenFragment.setCacheString('SelectedFile', selected_name)",
									"var s4 = eigenFragment.getCacheString('FullPath')",
									"s4 = eigenFragment.concatPaths(s4, selected_name)",
									"eigenFragment.setCacheString('FullPath', s4)",

									"eigenFragment.closePopupWindow()",
									"eigenFragment.closePopupScreen(991005)"
								]
							}
						]
					},
					"item_layout": {
						"type": "LinearLayout",
						"orientation": "horizontal",
						"layout_width": "wrap_content",
						"layout_height": "wrap_content",
						"gravity": "center_vertical",
						"component_list": [
							{
								"type": "TextView",
								"text_script": "eigenFragment.getOptionPosition() + ': ' + eigenFragment.getOptionLabel()",
								"text_color": "#ffffff",
								"background_color": "#123456",
								"margin": {
									"left": 40,
									"top": 40,
									"right": 40,
									"bottom": 40
								}
							}
						]
					}
				}
			]
		}
	]
}
