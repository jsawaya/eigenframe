{
	"type": "LinearLayout",
	"orientation": "vertical",
	"gravity": "center_horizontal",
	"layout_width": "match_parent",
	"layout_height": "wrap_content",
	"component_list": [
		{
			"type": "Clone",
			"name": "HorizontalLine"
		},
		{
			"type": "Clone",
			"name": "TextViewDetail",
			"attributes": {
				"text_script": "''+eigenFragment.getCacheString('FullPath')"
			}
		},
		{
			"type": "Clone",
			"name": "HorizontalLine"
		},
		{
			"type": "LinearLayout",
			"orientation": "horizontal",
			"layout_width": "match_parent",
			"component_list": [
				{
					"type": "Button",
					"text": "Open Parent Directory",
					"text_size": "14",
					"gravity": "center_horizontal",
					"text_color": "#ffffff",
					"background_color": "#123456",
					"layout_width": "match_parent",
					"layout_weight": "1",
					"margin": {
						"left": 10,
						"top": 10,
						"right": 10,
						"bottom": 10
					},
					"on_click": {
						"type": "ActionList",
						"component_list": [
							{
								"type": "JavaScript",
								"comment": "find the parent directory of the SelectedPath",
								"script_list": [
									"var selected_path = eigenFragment.getCacheString('SelectedPath')",
									"selected_path = eigenFragment.parentPath(selected_path)",
									"eigenFragment.setCacheString('SelectedPath', selected_path)",
									"eigenFragment.setCacheString('SelectedFile', '')"
								]
							},
							{
								"type": "Clone",
								"name": "JavaScriptSetFullPath"
							},
							{
								"type": "JavaScript",
								"script": "eigenFragment.closePopupWindow()"
							},
							{
								"type": "SecureFtp",
								"comment": "new full path, open directory",
								"id": 991004,
								"sftp_script": "'directory ' + eigenFragment.getCacheString('FullPath')",
								"on_complete": {
									"type": "PopupScreen",
									"layout_width": "match_parent",
									"layout_height": "wrap_content",
									"text_size": "14",
									"text_color": "#ffffff",
									"background_color": "#111111",
									"x-title": "Explore Filesystem (ListView)",
									"title_script": "''+eigenFragment.getCacheString('SelectFilePrompt')",
									"url_script": "eigenFragment.getCacheString('RootUrl')+'frames/explore-filesystem-listview.json'"
								}
							}
						]
					}
				},
				{
					"type": "Button",
					"text": "Select This Directory",
					"text_size": "14",
					"gravity": "center_horizontal",
					"text_color": "#ffffff",
					"background_color": "#123456",
					"layout_width": "match_parent",
					"layout_weight": "1",
					"margin": {
						"left": 10,
						"top": 10,
						"right": 10,
						"bottom": 10
					},
					"on_click": {
						"type": "ActionList",
						"component_list": [
							{
								"type": "JavaScript",
								"comment": "selected directory, not file",
								"script_list": [
									"var selected_path = eigenFragment.getCacheString('SelectedPath')",
									"eigenFragment.setCacheString('SelectedFile', '')"
								]
							},
							{
								"type": "Clone",
								"name": "JavaScriptSetFullPath"
							},
							{
								"type": "JavaScript",
								"comment": "selected directory - not file",
								"script_list": [
									"eigenFragment.closePopupWindow()",
									"eigenFragment.closePopupScreen(991005)"
								]
							}
						]
					}
				}
			]
		},
		{
			"type": "LinearLayout",
			"orientation": "horizontal",
			"layout_width": "match_parent",
			"component_list": [
				{
					"type": "TextView",
					"text": "Sub-directories",
					"text_size": "14",
					"text_color": "#ffffff",
					"layout_width": "match_parent",
					"layout_weight": "1",
					"background_color": "#123456",
					"gravity": "center_horizontal",
					"font": "font/open-sans/OpenSans-SemiboldItalic.ttf"
				},
				{
					"type": "TextView",
					"text": "Files",
					"text_size": "14",
					"text_color": "#ffffff",
					"layout_width": "match_parent",
					"layout_weight": "1",
					"background_color": "#123456",
					"gravity": "center_horizontal",
					"font": "font/open-sans/OpenSans-SemiboldItalic.ttf"
				}
			]
		},
		{
			"type": "Clone",
			"name": "HorizontalLine"
		},
		{
			"type": "LinearLayout",
			"orientation": "horizontal",
			"layout_width": "match_parent",
			"layout_height": "wrap_content",
			"component_list": [
				{
					"type": "ListView",
					"layout_width": "match_parent",
					"layout_height": "match_parent",
					"layout_weight": "1",
					"background_color": "#123456",
					"cached_filename": "SecureFtp:991004",
					"dir_type": "subdir",
					"on_click": {
						"type": "ActionList",
						"component_list": [
							{
								"type": "JavaScript",
								"comment": "selected directory, append to selected path",
								"script_list": [
									"var selected_dir = eigenFragment.getOptionLabel()",
									"var selected_path = eigenFragment.getCacheString('SelectedPath')",
									"selected_path = eigenFragment.concatPaths(selected_path, selected_dir)",
									"eigenFragment.setCacheString('SelectedPath', selected_path)",
									"eigenFragment.setCacheString('SelectedFile', '')"
								]
							},
							{
								"type": "Clone",
								"name": "JavaScriptSetFullPath"
							},
							{
								"type": "JavaScript",
								"script": "eigenFragment.closePopupWindow()"
							},
							{
								"type": "SecureFtp",
								"comment": "call sftp this way when you don't need immediate results for a TextView",
								"id": 991004,
								"sftp_script": "'directory ' +  eigenFragment.getCacheString('FullPath')",
								"on_complete": {
									"type": "PopupScreen",
									"layout_width": "match_parent",
									"layout_height": "wrap_content",
									"text_size": "14",
									"text_color": "#ffffff",
									"background_color": "#111111",
									"x-title": "Explore Filesystem (ListView)",
									"title_script": "''+eigenFragment.getCacheString('SelectFilePrompt')",
									"url_script": "eigenFragment.getCacheString('RootUrl')+'frames/explore-filesystem-listview.json'"
								}
							}
						]
					},
					"item_layout": {
						"type": "LinearLayout",
						"orientation": "horizontal",
						"layout_width": "wrap_content",
						"layout_height": "wrap_content",
						"gravity": "center_vertical",
						"component_list": [
							{
								"type": "TextView",
								"text_script": "eigenFragment.getOptionPosition() + ': ' + eigenFragment.getOptionLabel()",
								"text_color": "#ffffff",
								"background_color": "#123456",
								"margin": {
									"left": 40,
									"top": 40,
									"right": 40,
									"bottom": 40
								}
							}
						]
					}
				},
				{
					"type": "Clone",
					"name": "VerticalLine"
				},
				{
					"type": "ListView",
					"layout_width": "match_parent",
					"layout_height": "match_parent",
					"layout_weight": "1",
					"background_color": "#123456",
					"cached_filename": "SecureFtp:991004",
					"dir_type": "files",
					"on_click": {
						"type": "ActionList",
						"component_list": [
							{
								"type": "JavaScript",
								"comment": [
									"selected_file: file name selected by the user",
									"full_path: /home/git-repo/git-path",
									"full_path += selected_file"
								],
								"script_list": [
									"var selected_file = eigenFragment.getOptionLabel()",
									"eigenFragment.setCacheString('SelectedFile', selected_file)",
									"var full_path = eigenFragment.getCacheString('FullPath')",
									"var full_path_file = eigenFragment.concatPaths(full_path, selected_file)",
									"var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
									"eigenFragment.setViewState(targetVid, full_path_file)",
									"eigenFragment.closePopupScreen(991005)",
									"eigenFragment.closePopupWindow()"
								]
							}
						]
					},
					"item_layout": {
						"type": "LinearLayout",
						"orientation": "horizontal",
						"layout_width": "wrap_content",
						"layout_height": "wrap_content",
						"gravity": "center_vertical",
						"component_list": [
							{
								"type": "TextView",
								"text_script": "eigenFragment.getOptionPosition() + ': ' + eigenFragment.getOptionLabel()",
								"text_color": "#ffffff",
								"background_color": "#123456",
								"margin": {
									"left": 40,
									"top": 40,
									"right": 40,
									"bottom": 40
								}
							}
						]
					}
				}
			]
		}
	]
}
