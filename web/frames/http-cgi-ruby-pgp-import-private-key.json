{
	"comment": "set the HomeDirectory from sftp pwd",
	"type": "SecureFtp",
	"id": 411000,
	"sftp_script": "'pwd'",
	"on_complete": {
		"type": "LinearLayout",
		"scrollable": true,
		"orientation": "vertical",
		"gravity": "center_horizontal",
		"layout_width": "match_parent",
		"component_list": [
			{
				"type": "Clone",
				"name": "HorizontalLine"
			},
			{
				"type": "Clone",
				"name": "TextViewLabel",
				"attributes": {
					"text": "Import Private Key File (OpenPGP)"
				}
			},
			{
				"type": "Clone",
				"name": "TextViewDetail",
				"attributes": {
					"text_list": [
						"Import your private key file",
						"- the private key enables you to open files that have been encrypted with your public key",
						"- try importing demo-private-key: ",
						"demo-private-key: /data/data/com.termux/files/home/storage/shared/Android/data/com.sawaya.eigenframe/files/demo-private-key.pgp",
						"passphrase: demo"
					]
				}
			},
			{
				"type": "JavaScript",
				"script": "eigenFragment.setCacheString('SelectFilePrompt', 0, 'Select Private Key File')"
			},
			{
				"type": "Clone",
				"name": "JavaScriptSelectFilePath"
			},
			{
				"type": "Clone",
				"name": "TextViewLabel",
				"attributes": {
					"text": "Private Key Passphrase:"
				}
			},
			{
				"type": "EditText",
				"id": 6606,
				"is_password": true,
				"layout_width": "match_parent",
				"layout_height": "wrap_content",
				"text_color": "#ffffff",
				"background_color": "#000000",
				"text": "password"
			},
			{
				"type": "Button",
				"text": "Import Private Key File",
				"layout_width": "wrap_content",
				"layout_height": "wrap_content",
				"text_color": "#ffffff",
				"background_color": "#654321",
				"icon": {
					"name": "info.",
					"location": "top"
				},
				"on_click": {
					"type": "UrlRequest",
					"id": 6605,
					"is_eigen_response": false,
					"url": "http://localhost:8080/cgi-bin/cgi_ruby.rb",
					"parameter_list": [
						{
							"name": "keyfile",
							"value_script_list": [
								"var targetVid = eigenFragment.getIntegerVariable('TargetViewId', 0, 0)",
								"var keyfile = eigenFragment.getViewState(targetVid)",
								"'' + keyfile"
							]
						},
						{
							"name": "password",
							"value_script_list": [
								"'' + eigenFragment.getViewState(6606)"
							]
						},
						{
							"name": "ruby",
							"value_list": [
								"keyfile = cgi.params['keyfile'][0]",
								"password = cgi.params['password'][0]",
								"gpg_import_private_key(keyfile,password).to_json.to_s"
							]
						}
					],
					"on_complete": {
						"type": "Clone",
						"name": "PopupScreenDefault",
						"attributes": {
							"title": "Import Private Key File",
							"component_list": [
								{
									"type": "Clone",
									"name": "LayoutVerticalScrollable",
									"attributes": {
										"component_list": [
											{
												"type": "Clone",
												"name": "TextViewDetail",
												"attributes": {
													"url": "file:///data/user/0/com.sawaya.eigenframe/files/UrlRequest:6605"
												}
											}
										]
									}
								}
							]
						}
					}
				}
			},

			{
				"type": "Button",
				"text": "List Private Keys",
				"layout_width": "wrap_content",
				"layout_height": "wrap_content",
				"text_color": "#ffffff",
				"background_color": "#654321",
				"icon": {
					"name": "info.",
					"location": "top"
				},
				"margin": {
					"left": 10,
					"top": 10,
					"right": 10,
					"bottom": 10
				},
				"on_click": {
					"type": "UrlRequest",
					"id": 6603,
					"is_eigen_response": false,
					"url": "http://localhost:8080/cgi-bin/cgi_ruby.rb",
					"parameter_list": [
						{
							"name": "ruby",
							"value_list": [
								"gpg_list_private_keys().to_json.to_s"
							]
						}
					],
					"on_complete": {
						"type": "Clone",
						"name": "PopupScreenDefault",
						"attributes": {
							"title": "List Private Keys",
							"component_list": [
								{
									"type": "Clone",
									"name": "LayoutVerticalScrollable",
									"attributes": {
										"component_list": [
											{
												"type": "Clone",
												"name": "TextViewDetail",
												"attributes": {
													"url": "file:///data/user/0/com.sawaya.eigenframe/files/UrlRequest:6603"
												}
											}
										]
									}
								}
							]
						}
					}
				}
			}
		]
	}
}
