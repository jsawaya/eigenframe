{
	"type": "LinearLayout",
	"scrollable": true,
	"orientation": "vertical",
	"gravity": "center_horizontal",
	"layout_width": "match_parent",
	"layout_height": "wrap_content",
	"component_list": [
		{
			"type": "Clone",
			"name": "HorizontalLine"
		},
		{
			"type": "Clone",
			"name": "TextViewLabel",
			"attributes": {
				"text": "Drawing, Rendering Data Graphs"
			}
		},
		{
			"type": "Clone",
			"name": "TextViewDetail",
			"attributes": {
				"text_list": [
					"JavaScript provides capability to create and render data graphically..."
				]
			}
		},
		{
			"type": "Clone",
			"name": "ButtonDefault",
			"attributes": {
				"text": "Edit Current Drawing",
				"icon": {
					"name": "create.",
					"location": "top"
				},
				"on_click": {
					"type": "JavaScript",
					"script_list": [
						"var drawingFilePath = eigenFragment.getCacheString('DrawingFilePath')",
						"drawingFilePath = eigenActivity.editDrawing(drawingFilePath)",
						"eigenActivity.showToast('Current Drawing: '+ drawingFilePath )",
						"eigenFragment.setCacheString('DrawingFilePath', drawingFilePath)"
					]
				}
			}
		},
		{
			"type": "Clone",
			"name": "ButtonDefault",
			"attributes": {
				"text": "Create New Drawing",
				"icon": {
					"name": "create.",
					"location": "top"
				},
				"on_click": {
					"type": "JavaScript",
					"script_list": [
						"var drawingFilePath = ''",
						"drawingFilePath = eigenActivity.editDrawing(drawingFilePath)",
						"eigenActivity.showToast('New Drawing: '+ drawingFilePath )",
						"eigenFragment.setCacheString('DrawingFilePath', drawingFilePath)"
					]
				}
			}
		},
		{
			"type": "Button",
			"text": "Show Sample Drawing From Github",
			"layout_width": "wrap_content",
			"layout_height": "wrap_content",
			"text_color": "#ffffff",
			"background_color": "#654321",
			"icon": {
				"name": "open_browser.",
				"location": "top"
			},
			"margin": {
				"left": 10,
				"top": 10,
				"right": 10,
				"bottom": 10
			},
			"on_click": {
				"type": "UrlRequest",
				"id": 801,
				"is_eigen_response": false,
				"url": "https://raw.githubusercontent.com/jsawaya/eigenframe/master/web/draw/tictactoe.draw",
				"on_complete": {
					"type": "JavaScript",
					"script_list": [
						"var drawingFilePath = eigenFragment.getCacheFilePath('UrlRequest:801') ",
						"drawingFilePath = eigenActivity.editDrawing(drawingFilePath)",
						"eigenActivity.showToast('Current Drawing: '+ drawingFilePath )",
						"eigenFragment.setCacheString('DrawingFilePath', drawingFilePath)"
					]
				}
			}
		},
		{
			"type": "Clone",
			"name": "HorizontalLine"
		},





    {
      "type": "Clone",
      "name": "TextViewLabel",
      "attributes": {
        "text": "Edit Local Drawing File"
      }
    },
    {
      "type": "Clone",
      "name": "TextViewDetail",
      "attributes": {
        "text_list": [
          "Select the local drawing file, or just type the file path, then click [Edit Local Drawing]"
        ]
      }
    },
    {
      "type": "Clone",
      "name": "HorizontalLine"
    },
    {
      "type": "JavaScript",
      "script_list": [
        "eigenFragment.setCacheString('SelectFilePromptLocal', 0, 'Select Local Drawing File')",
        "eigenFragment.setCacheString('SelectedPathLocal', '')",
        "eigenFragment.setCacheString('SelectedFileLocal', '')",
        "eigenFragment.setIntegerVariable('TargetViewId2', 0, 999724)"
      ]
    },
    {
      "type": "Clone",
      "name": "LayoutVerticalScrollable",
      "attributes": {
        "component_list": [
          {
            "type": "Clone",
            "name": "HorizontalLine"
          },
          {
            "type": "Clone",
            "name": "TextViewLabel",
            "attributes": {
              "text_script": "''+eigenFragment.getCacheString('SelectFilePromptLocal')"
            }
          },
          {
            "type": "Clone",
            "name": "ButtonDefault",
            "attributes": {
              "text_script": "''+eigenFragment.getCacheString('SelectFilePromptLocal')",
              "icon": {
                "name": "open_with.",
                "location": "top"
              },
              "on_click": {
                "type": "ActionList",
                "component_list": [
                  {
                    "type": "Clone",
                    "name": "JavaScriptSetFullPathLocal"
                  },
                  {
                    "type": "Clone",
                    "name": "PopupScreenSelectFilePathLocal"
                  }
                ]
              }
            }
          },
          {
            "type": "EditText",
            "id_script": "eigenFragment.getIntegerVariable('TargetViewId2')",
            "max_length": 200,
            "is_single_line": true,
            "layout_width": "match_parent",
            "text_color": "#ffffff",
            "background_color": "#000000",
            "text": "undefined"
          },
          {
            "type": "Clone",
            "name": "HorizontalLine"
          }
        ]
      }
    },
    {
      "type": "Clone",
      "name": "ButtonDefault",
      "attributes": {
        "text": "Edit Local Text File",
        "icon": {
          "name": "open_browser.",
          "location": "top"
        },
        "on_click": {
          "type": "Clone",
          "name": "PopupScreenDefault",
          "attributes": {
            "id": 999099,
            "title_script_list": [
              "var targetVid2 = eigenFragment.getIntegerVariable('TargetViewId2')",
              "var filename = eigenFragment.getViewState(targetVid2)",
              "'Local File: ' + filename"
            ],
            "component_list": [
              {
                "type": "JavaScript",
                "script": "eigenFragment.clearCacheFile('EditText:999010')"
              },
              {
                "type": "Clone",
                "name": "LayoutVerticalScrollable",
                "attributes": {
                  "component_list": [
                    {
                      "type": "Clone",
                      "name": "ButtonDefault",
                      "attributes": {
                        "text": "Save Edits to Local File",
                        "icon": {
                          "name": "save.",
                          "location": "top"
                        },
                        "on_click": {
                          "type": "JavaScript",
                          "script_list": [
                            "var filename1 = eigenFragment.getCacheFilePath('EditText:999010') ",
                            "var targetVid2 = eigenFragment.getIntegerVariable('TargetViewId2') ",
                            "var filename2 = eigenFragment.getViewState(targetVid2) ",
                            "eigenFragment.copyFile(filename1, filename2)",
                            "eigenFragment.closePopupScreen(999099)"
                          ]
                        }
                      }
                    },
                    {
                      "type": "Clone",
                      "name": "HorizontalLine"
                    },
                    {
                      "type": "EditText",
                      "url_script": "var targetVid2 = eigenFragment.getIntegerVariable('TargetViewId2') ; 'file://' + eigenFragment.getViewState(targetVid2) ",
                      "id": 999010,
                      "gravity": "left",
                      "layout_width": "match_parent",
                      "text_color": "#ffffff",
                      "background_color": "#000000"
                    }
                  ]
                }
              }
            ]
          }
        }
      }
    },
		{
			"type": "Clone",
			"name": "ButtonDefault",
			"attributes": {
				"text": "Show/Edit Local Drawing",
				"icon": {
					"name": "create.",
					"location": "top"
				},
				"on_click": {
					"type": "JavaScript",
					"script_list": [
            "var targetVid2 = eigenFragment.getIntegerVariable('TargetViewId2')",
            "var filename = eigenFragment.getViewState(targetVid2)",
						"eigenActivity.editDrawing(filename)",
						"eigenFragment.setCacheString('DrawingFilePath', filename)"
					]
				}
			}
		},
    {
      "type": "Clone",
      "name": "HorizontalLine"
    },




		{
			"type": "JavaScript",
			"script_list": [
				"eigenFragment.setCacheString('SelectFilePrompt', 0, 'Select Remote Drawing File')",
				"eigenFragment.setCacheString('WorkingDirectory', '')",
				"eigenFragment.setCacheString('SelectedPath', 'git-repos/eigenframe/web/draw')",
				"eigenFragment.setCacheString('SelectedFile', '')",
				"eigenFragment.setIntegerVariable('TargetViewId', 0, 999725)"
			]
		},
		{
			"type": "Clone",
			"name": "SelectFilePathRemote"
		},
		{
			"type": "Clone",
			"name": "ButtonDefault",
			"attributes": {
				"text": "Show/Edit Remote Drawing File (via sftp)",
				"icon": {
					"name": "image.",
					"location": "top"
				},
				"on_click": {
					"type": "SecureFtp",
					"sftp_script_list": [
						"var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
						"var filename = eigenFragment.getViewState(targetVid)",
						"eigenActivity.showToast('load filename: '+filename )",
						"'get ' + filename + ' RemoteDrawingFileCopy'"
					],
					"on_complete": {
						"type": "JavaScript",
						"script_list": [
							"var drawingFilePath = eigenFragment.getCacheFilePath('RemoteDrawingFileCopy')",
							"drawingFilePath = eigenActivity.editDrawing(drawingFilePath)"
						]
					}
				}
			}
		},
		{
			"type": "Clone",
			"name": "ButtonDefault",
			"attributes": {
				"text": "Save Changes back to Remote Drawing File (via sftp)",
				"icon": {
					"name": "image.",
					"location": "top"
				},
				"on_click": {
					"type": "SecureFtp",
					"sftp_script_list": [
						"var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
						"var filename = eigenFragment.getViewState(targetVid)",
						"eigenActivity.showToast('save filename: '+filename )",
						"'put RemoteDrawingFileCopy ' + filename "
					]
				}
			}
		}
	]
}