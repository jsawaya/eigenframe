{
  "comment": "set the HomeDirectory from sftp pwd",
  "type": "SecureFtp",
  "id": 411000,
  "sftp": "pwd",
  "on_complete": {
    "type": "LinearLayout",
    "scrollable": true,
    "orientation": "vertical",
    "gravity": "center_horizontal",
    "layout_width": "match_parent",
    "layout_height": "wrap_content",
    "component_list": [
      {
        "type": "Clone",
        "name": "TextViewLabel",
        "attributes": {
          "text": "Edit/Render EigenFrame"
        }
      },
      {
        "type": "Clone",
        "name": "TextViewDetail",
        "attributes": {
          "text_list": [
            "Select the EigenFrame component, or type the file path, then click [Edit/Render Remote EigenFrame]"
          ]
        }
      },
      {
        "type": "Clone",
        "name": "HorizontalLine"
      },
			{
				"type": "JavaScript",
				"script_list": [
					"eigenFragment.setCacheString('SelectFilePrompt', 0, 'Select Remote EigenFrame')",
					"eigenFragment.setCacheString('WorkingDirectory', '')",
					"eigenFragment.setCacheString('SelectedPath', 'git-repos/eigenframe/web/frames')",
					"eigenFragment.setCacheString('SelectedFile', '')",
					"eigenFragment.setIntegerVariable('TargetViewId', 0, 999722)"
				]
			},
			{
				"type": "Clone",
				"name": "SelectFilePathRemote"
			},
			{
				"type": "Clone",
				"name": "ButtonDefault",
				"attributes": {
					"text": "Edit/Render Remote EigenFrame",
					"icon": {
						"name": "open_browser.",
						"location": "top"
					},
					"on_click": {
            "type": "SecureFtp",
            "sftp_script_list": [
              "var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
              "var filename = eigenFragment.getViewState(targetVid)",
              "'get ' + filename + ' EditText:999000'"
            ],
            "on_complete": {
              "type": "Clone",
              "name": "PopupScreenDefault",
              "attributes": {
                "id": 999099,
                "title_script_list": [
                  "var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
                  "var filename = eigenFragment.getViewState(targetVid)",
                  "'Remote File: ' + filename"
                ],
                "component_list": [
                  {
                    "type": "Clone",
                    "name": "LayoutVerticalScrollable",
                    "attributes": {
                      "component_list": [
                        {
                          "type": "Clone",
                          "name": "ButtonSaveEditsToRemoteFile"
                        },
                        {
                          "type": "Clone",
                          "name": "ButtonCancelLocalEdits"
                        },
                        {
                          "type": "Clone",
                          "name": "ButtonDefault",
                          "attributes": {
                            "text": "Popup Remote EigenFrame",
                            "icon": {
                              "name": "play.",
                              "location": "top"
                            },
                            "on_click": {
                              "type": "SecureFtp",
                              "sftp_script_list": [
                                "var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
                                "var filename = eigenFragment.getViewState(targetVid)",
                                "'put EditText:999000 ' + filename"
                              ],
                              "on_complete": {
                                "type": "Clone",
                                "name": "PopupScreenDefault",
                                "attributes": {
                                  "title": "Popup Remote EigenFrame",
                                  "component_list": [
                                    {
                                      "type": "SecureShell",
                                      "is_eigen_response": true,
                                      "ssh_script_list": [
                                        "var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
                                        "var filename = eigenFragment.getViewState(targetVid)",
                                        "'cd /data/data/com.termux/files/home; cat '+filename "
                                      ]
                                    }
                                  ]
                                }
                              }
                            }
                          }
                        },
                        {
                          "type": "Clone",
                          "name": "HorizontalLine"
                        },
                        {
                          "type": "Clone",
                          "name": "EditTextLocalFileCache"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          }
				}
			},
      {
        "type": "Clone",
        "name": "HorizontalLine"
      }
   ]
  }
}