{
	"comment": "set the HomeDirectory from sftp pwd",
	"type": "SecureFtp",
	"id": 411000,
	"sftp": "pwd",
	"on_complete": {
		"type": "LinearLayout",
		"scrollable": true,
		"orientation": "vertical",
		"gravity": "center_horizontal",
		"layout_width": "match_parent",
		"layout_height": "wrap_content",
		"component_list": [
			{
				"type": "Clone",
				"name": "HorizontalLine"
			},
			{
				"type": "Clone",
				"name": "TextViewLabel",
				"attributes": {
          "text": "Execute Shell Script (via ssh)"
				}
			},
			{
				"type": "Clone",
				"name": "TextViewDetail",
				"attributes": {
					"text_list": [
						"EigenFrame SecureShell provides capability to execute a remote command line interface (with Termux, for example)"
					]
				}
			},
			{
				"type": "JavaScript",
				"script_list": [
					"eigenFragment.setCacheString('SelectFilePrompt', 0, 'Select Remote Shell File')",
					"eigenFragment.setCacheString('WorkingDirectory', '')",
					"eigenFragment.setCacheString('SelectedPath', 'git-repos/eigenframe/cgi-bin')",
					"eigenFragment.setCacheString('SelectedFile', '')",
					"eigenFragment.setIntegerVariable('TargetViewId', 0, 999720)"
				]
			},
			{
				"type": "Clone",
				"name": "SelectFilePathRemote"
			},
			{
				"type": "Clone",
				"name": "ButtonDefault",
				"attributes": {
					"text": "Edit/Exec Remote Shell File",
					"icon": {
						"name": "open_browser.",
						"location": "top"
					},
					"on_click": {
						"type": "SecureFtp",
						"sftp_script_list": [
							"var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
							"var filename = eigenFragment.getViewState(targetVid)",
							"'get ' + filename + ' EditText:999000'"
						],
						"on_complete": {
							"type": "Clone",
							"name": "PopupScreenDefault",
							"attributes": {
								"id": 999099,
								"title_script_list": [
									"var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
									"var filename = eigenFragment.getViewState(targetVid)",
									"'Remote File: ' + filename"
								],
								"component_list": [
									{
										"type": "Clone",
										"name": "LayoutVerticalScrollable",
										"attributes": {
											"component_list": [
												{
													"type": "Clone",
													"name": "ButtonSaveEditsToRemoteFile"
												},
												{
													"type": "Clone",
													"name": "ButtonDefault",
													"attributes": {
														"text": "Execute Shell File",
														"icon": {
															"name": "play.",
															"location": "top"
														},
														"on_click": {
															"type": "SecureFtp",
															"sftp_script_list": [
																"var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
																"var filename = eigenFragment.getViewState(targetVid)",
																"'put EditText:999000 ' + filename"
															],
															"on_complete": {
																"type": "Clone",
																"name": "PopupScreenDefault",
																"attributes": {
																	"title": "Shell Command Output",
																	"component_list": [
																		{
																			"type": "Clone",
																			"name": "LayoutVerticalScrollable",
																			"attributes": {
																				"component_list": [
																					{
																						"type": "Clone",
																						"name": "TextViewDetail",
																						"attributes": {
																							"text_size": "10",
																							"ssh_script_list": [
																								"var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
																								"var filename = eigenFragment.getViewState(targetVid)",
																								"'cd /data/data/com.termux/files/home; /usr/bin/sh -s < '+filename "
																							]
																						}
																					}
																				]
																			}
																		}
																	]
																}
															}
														}
													}
												},
												{
													"type": "Clone",
													"name": "HorizontalLine"
												},
												{
													"type": "Clone",
													"name": "TextViewLabel",
													"attributes": {
														"text": "Shell Arguments:"
													}
												},
												{
													"type": "EditText",
													"id": 976002,
													"layout_width": "match_parent",
													"layout_height": "wrap_content",
													"text_color": "#ffffff",
													"background_color": "#000000"
												},
												{
													"type": "Clone",
													"name": "ButtonDefault",
													"attributes": {
														"text": "Execute Shell Script",
														"icon": {
															"name": "open_browser.",
															"location": "top"
														},
														"on_click": {
															"type": "Clone",
															"name": "PopupScreenDefault",
															"attributes": {
																"title": "Shell Output Console",
																"component_list": [
																	{
																		"type": "Clone",
																		"name": "LayoutVerticalScrollable",
																		"attributes": {
																			"component_list": [
																				{
																					"type": "Clone",
																					"name": "TextViewDetail",
																					"attributes": {
																						"text_size": "10",
																						"ssh_script_list": [
																							"var targetVid = eigenFragment.getIntegerVariable('TargetViewId')",
																							"var dir = '/data/data/com.termux/files/home/git-repos/eigenframe/cgi-bin' ",
																							"shellfilepath = eigenFragment.getViewState(targetVid)",
																							"shellargs = eigenFragment.getViewState(976002) ",
																							"'cd '+dir+'; /usr/bin/sh -s < '+shellfilepath + ' ' + shellargs"
																						]
																					}
																				}
																			]
																		}
																	}
																]
															}
														}
													}
												},
												{
													"type": "Clone",
													"name": "HorizontalLine"
												},
												{
													"type": "Clone",
													"name": "EditTextLocalFileCache"
												}
											]
										}
									}
								]
							}
						}
					}
				}
			},

      {
        "type": "Clone",
        "name": "HorizontalLine"
      },
			{
				"type": "Clone",
				"name": "TextViewLabel",
				"attributes": {
					"text": "SecureShell Command Line"
				}
			},
			{
				"type": "Clone",
				"name": "TextViewDetail",
				"attributes": {
					"text_list": [
						"SecureShell (ssh) provides capability to execute a remote command line interface (with Termux, for example)"
					]
				}
			},
			{
				"type": "EditText",
				"id": 7600,
				"layout_width": "match_parent",
				"layout_height": "wrap_content",
				"text": "ls -la",
				"text_color": "#ffffff",
				"background_color": "#000000"
			},
			{
				"type": "Clone",
				"name": "ButtonDefault",
				"attributes": {
					"text": "Execute Shell Command Line",
					"icon": {
						"name": "play.",
						"location": "top"
					},
					"on_click": {
						"type": "Clone",
						"name": "PopupScreenDefault",
						"attributes": {
							"title": "Command Output",
							"component_list": [
								{
									"type": "Clone",
									"name": "LayoutVerticalScrollable",
									"attributes": {
										"component_list": [
											{
												"type": "Clone",
												"name": "TextViewDetail",
												"attributes": {
													"text_size": "10",
													"ssh_script": "''+eigenFragment.getViewState(7600)"
												}
											}
										]
									}
								}
							]
						}
					}
				}
			}

		]
	}
}